- name: Calculation 
  period: 2023
  input:
    state_code: ID
    id_income_tax_before_non_refundable_credits: 2_000
    id_non_refundable_credits: 500
  output:
    id_income_tax_before_refundable_credits: 1_500

- name: Capped at 0 
  period: 2023
  input:
    state_code: NM
    id_income_tax_before_non_refundable_credits: 200
    id_non_refundable_credits: 500
  output:
    id_income_tax_before_refundable_credits: 0

- name: 2021 Joint filer rate 1%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 3,000
    filing_status: JOINT
  output:
    id_income_tax_before_refundable_credits: 30

- name: 2021 Widow filer rate 1%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 3,000
    filing_status: WIDOW
  output:
    id_income_tax_before_refundable_credits: 30

- name: 2021 Joint filer rate 3.1%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 10,000
    filing_status: JOINT
  output:
    id_income_tax_before_refundable_credits: 211.44

- name: 2021 Widow filer rate 3.1%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 10,000
    filing_status: WIDOW
  output:
    id_income_tax_before_refundable_credits: 211.44

- name: 2021 Joint filer rate 4.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 15,000
    filing_status: JOINT
  output:
    id_income_tax_before_refundable_credits: 246.33

- name: 2021 Widow filer rate 4.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 15,000
    filing_status: WIDOW
  output:
    id_income_tax_before_refundable_credits: 246.33

- name: 2021 Joint filer rate 5.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 20,000
    filing_status: JOINT
  output:
    id_income_tax_before_refundable_credits: 401.39

- name: 2021 Widow filer rate 5.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 20,000
    filing_status: WIDOW
  output:
    id_income_tax_before_refundable_credits: 401.39

- name: 2021 Joint filer rate 6.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 25,000
    filing_status: JOINT
  output:
    id_income_tax_before_refundable_credits: 592.83

- name: 2021 Widow filer rate 6.5%
  period: 2021
  input:
    state_code: ID
    id_taxable_income: 25,000
    filing_status: WIDOW
  output:
    id_income_tax_before_refundable_credits: 592.83