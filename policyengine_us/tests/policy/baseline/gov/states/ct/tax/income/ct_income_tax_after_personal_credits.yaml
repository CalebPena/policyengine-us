- name: Single household with $1,000 income and no add back, exemptions or credits
  period: 2022
  input:
    state_code: CT
    ct_agi: 1_000
    ct_personal_exemptions: 0
    filing_status: SINGLE
    ct_income_tax_phase_out_add_back: 0
    ct_income_tax_recapture: 0
    ct_personal_credits: 0
  output:
    ct_income_tax_after_personal_credits: 30

- name: Separate household with $20,000 income with some add back, no exemptions or credits
  period: 2022
  input:
    state_code: CT
    ct_agi: 20_000
    ct_personal_exemptions: 0
    filing_status: SEPARATE
    ct_income_tax_phase_out_add_back: 100
    ct_income_tax_recapture: 200
    ct_personal_credits: 0
  output:
    ct_income_tax_after_personal_credits: 1_100

- name: Exemptions over AGI with add-back and recapture
  period: 2022
  input:
    state_code: CT
    ct_agi: 20_000
    ct_personal_exemptions: 25_000
    filing_status: SEPARATE
    ct_income_tax_phase_out_add_back: 100
    ct_income_tax_recapture: 200
    ct_personal_credits: 0
  output:
    ct_income_tax_after_personal_credits: 300

- name: Exemptions over AGI without add-back and recapture
  period: 2022
  input:
    state_code: CT
    ct_agi: 20_000
    ct_personal_exemptions: 20_000
    filing_status: SEPARATE
    ct_income_tax_phase_out_add_back: 0
    ct_income_tax_recapture: 0
    ct_personal_credits: 0
  output:
    ct_income_tax_after_personal_credits: 0

- name: Same as test 2 but credit of 0.2
  period: 2022
  input:
    state_code: CT
    ct_agi: 20_000
    ct_personal_exemptions: 0
    filing_status: SEPARATE
    ct_income_tax_phase_out_add_back: 100
    ct_income_tax_recapture: 200
    ct_personal_credits: 0.2
  output:
    ct_income_tax_after_personal_credits: 880

- name: Widow household with credit of 1 - maximum credit
  period: 2022
  input:
    state_code: CT
    ct_agi: 40_000
    ct_personal_exemptions: 0
    filing_status: WIDOW
    ct_income_tax_phase_out_add_back: 100
    ct_income_tax_recapture: 200
    ct_personal_credits: 1
  output:
    ct_income_tax_after_personal_credits: 0
