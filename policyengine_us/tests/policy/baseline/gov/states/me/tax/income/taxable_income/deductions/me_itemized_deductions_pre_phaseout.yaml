- name: Maine deduction is $0 outside of Maine.
  period: 2022
  absolute_error_margin: 0
  input:
    people:
      person1:
        medical_expense: 500
        real_estate_taxes: 1_000
    tax_units:
      tax_unit:
        members: [person1]
        tax_unit_itemizes: true
        taxable_income_deductions_if_itemizing: 10_000
    households:
      household:
        members: [person1]
        state_code: NY
  output:
    me_itemized_deductions_pre_phaseout: 0

- name: Maine itemized deduction is federal itemized deduction plus real estate taxes.
  period: 2022
  absolute_error_margin: 0
  input:
    people:
      person1:
        medical_expense: 500
        real_estate_taxes: 1_000
    tax_units:
      tax_unit:
        members: [person1]
        tax_unit_itemizes: true
        taxable_income_deductions_if_itemizing: 10_000
    households:
      household:
        members: [person1]
        state_code: ME
  output:
    me_itemized_deductions_pre_phaseout: 11_000

- name: Maine itemized deduction is $0 if tax unit does not itemize on federal return.
  period: 2022
  absolute_error_margin: 0
  input:
    people:
      person1:
        medical_expense: 500
        real_estate_taxes: 1_000
    tax_units:
      tax_unit:
        members: [person1]
        tax_unit_itemizes: false
        taxable_income_deductions_if_itemizing: 10_000
    households:
      household:
        members: [person1]
        state_code: ME
  output:
    me_itemized_deductions_pre_phaseout: 0

- name: Maine itemized deduction is capped.
  period: 2022
  absolute_error_margin: 0
  input:
    people:
      person1:
        medical_expense: 0
        real_estate_taxes: 0
    tax_units:
      tax_unit:
        members: [person1]
        tax_unit_itemizes: true
        taxable_income_deductions_if_itemizing: 31_151
    households:
      household:
        members: [person1]
        state_code: ME
  output:
    me_itemized_deductions_pre_phaseout: 31_150

- name: Maine itemized deduction is capped at $31,150 before medical expenses.
  period: 2022
  absolute_error_margin: 0
  input:
    people:
      person1:
        medical_expense: 5_000
        real_estate_taxes: 1_000
    tax_units:
      tax_unit:
        members: [person1]
        tax_unit_itemizes: true
        taxable_income_deductions_if_itemizing: 40_000
    households:
      household:
        members: [person1]
        state_code: ME
  output:
    me_itemized_deductions_pre_phaseout: 36_150
