- name: 2022 single filer who is below the standard deduction age threshold 
  period: 2022
  input:
    state_code: MI
    filing_status: SINGLE
    greater_age_head_spouse: 35
  output:
    mi_standard_deduction_and_pension_benefit: 0

- name: 2022 single filer who is below the standard deduction age threshold but at the tier 3 retirement and pension benefits age threshold
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        retirement_benefits_from_ss_exempt_employment: 1_000
    tax_units:
      tax_unit:
        greater_age_head_spouse: 66
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 0 + 0 + 15000 + 0 < 40000
    mi_standard_deduction_and_pension_benefit: 15_000

- name: 2022 single filer who is below the standard deduction age threshold but at the tier 3 retirement and pension benefits age threshold, but not receive retirement benefits from employment exempt from Social Security
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
    tax_units:
      tax_unit:
        greater_age_head_spouse: 66
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 0 + 0 + 0 + 0
    mi_standard_deduction_and_pension_benefit: 0

- name: 2022 single filer who is above the standard deduction age threshold but at the tier 1 retirement and pension benefits and interest, dividends, and capital gains deduction age threshold, $1000 interest, dividends, and capital gains income
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 60_000
        military_retirement_pay: 1_000
        taxable_interest_income: 500
        dividend_income: 400
        capital_gains: 100
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 77
        elderly_disabled_credit: 300
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 0 + (56961 - 1000 = 55961 < 60000) + 0 + (12697 - 60000 - 1000 - 300 < 0)
    mi_standard_deduction_and_pension_benefit: 55_961

- name: 2022 single filer who is at the tier 3 standard deduction age threshold
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        taxable_social_security: 2_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 67
        mi_exemptions: 2_000
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 20000 - 1000 - 5000 - 2000 - 2000 < 40000
    mi_standard_deduction_and_pension_benefit: 10_000

- name: 2022 single filer who is at the tier 2 standard deduction age threshold, and receive retirement benefits from SSA employment exempt
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 20_000
        year_of_retirement: 2012
        retirement_benefits_from_ss_exempt_employment: 1_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 72
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 20000 + 15000 - 1000 - 5000 > 20000
    mi_standard_deduction_and_pension_benefit: 20_000

- name: 2022 joint filer and their spouse are not at the age threshold
  period: 2022
  input:
    state_code: MI
    filing_status: JOINT
    greater_age_head_spouse: 35
  output: 
    mi_standard_deduction_and_pension_benefit: 0

- name: 2022 joint filer who is at the tier 2 standard deduction age threshold, their spouse is at the tier 3 retirement and pension benefits threshold, and both receive retirement benefits from SSA employment exempt
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        year_of_retirement: 2010
        retirement_benefits_from_ss_exempt_employment: 2_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 30_000
        year_of_retirement: 2012
        retirement_benefits_from_ss_exempt_employment: 4_000
        military_retirement_pay: 2_000
        military_service_income: 3_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 73
        members: [person1, person2]
        filing_status: JOINT
    household:
      members: [person1, person2]
      state_code: MI
  output: # 40000 + 2 * 15000 - 1000 - 5000 - 2000 - 3000 < 40000 + 30000
    mi_standard_deduction_and_pension_benefit: 59_000

- name: 2022 joint filer and their spouse are at the tier 3 retirement and pension benefits threshold, both receive retirement benefits from SSA employment exempt and one retired before 2013
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 20_000
        retirement_benefits_from_ss_exempt_employment: 2_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 40_000
        retirement_benefits_from_ss_exempt_employment: 4_000
        year_of_retirement: 2010
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 66
        members: [person1, person2]
        filing_status: JOINT
    household:
      members: [person1, person2]
      state_code: MI
  output: # 30000 < 55000 < 20000 + 40000
    mi_standard_deduction_and_pension_benefit: 55_000

- name: 2022 joint filer and their spouse are at the tier 2 standard deduction age threshold, and one receive retirement benefits from employment exempt from Social Security
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        year_of_retirement: 2010
        retirement_benefits_from_ss_exempt_employment: 2_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 30_000
        military_retirement_pay: 2_000
        military_service_income: 3_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 73
        members: [person1, person2]
        filing_status: JOINT
    household:
      members: [person1, person2]
      state_code: MI
  output: # 40000 + 15000 - 1000 - 5000 - 2000 - 3000 < 40000 + 30000
    mi_standard_deduction_and_pension_benefit: 44_000

- name: 2022 joint filer and their spouse are at the tier 2 standard deduction age threshold, and one receive retirement benefits from SSA employment exempt, and with one more household member
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        year_of_retirement: 2010
        retirement_benefits_from_ss_exempt_employment: 2_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 30_000
        military_retirement_pay: 2_000
        military_service_income: 3_000
        is_tax_unit_head_or_spouse: true
      person3:
        taxable_pension_income: 30_000
        year_of_retirement: 2012
        retirement_benefits_from_ss_exempt_employment: 300
        military_retirement_pay: 2_000
        military_service_income: 3_000
    tax_units:
      tax_unit:
        greater_age_head_spouse: 73
        members: [person1, person2, person3]
        filing_status: JOINT
    household:
      members: [person1, person2, person3]
      state_code: MI
  output: # 40000 + 15000 - 1000 - 5000 - 2000 - 3000 < 40000 + 30000
    mi_standard_deduction_and_pension_benefit: 44_000

- name: 2022 joint filer and their spouse are at the tier 3 standard deduction age threshold, and with one more household member
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 40_000
        taxable_social_security: 2_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 30_000
        taxable_social_security: 0
        military_retirement_pay: 2_000
        military_service_income: 3_000
        is_tax_unit_head_or_spouse: true
      person3:
        taxable_pension_income: 30_000
        taxable_social_security: 300
        military_retirement_pay: 2_000
        military_service_income: 3_000
    tax_units:
      tax_unit:
        greater_age_head_spouse: 67
        mi_exemptions: 2_000
        members: [person1, person2, person3]
        filing_status: JOINT
    household:
      members: [person1, person2, person3]
      state_code: MI
  output: # 40000 - 2000 - 1000 - 5000 - 2000 - 3000 - 2000 < 40000 + 30000
    mi_standard_deduction_and_pension_benefit: 25_000

- name: 2022 joint filer who is at the tier 2 standard deduction age threshold, their spouse is at the tier 1 retirement and pension benefits and interest, dividends, and capital gains deduction threshold, $13000 interest, dividends, and capital gains income
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 50_000
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
      person2:
        taxable_pension_income: 60_000
        military_retirement_pay: 1_000
        taxable_interest_income: 10_000
        dividend_income: 2_000
        capital_gains: 1_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 77
        elderly_disabled_credit: 300
        members: [person1, person2]
        filing_status: JOINT
    household:
      members: [person1, person2]
      state_code: MI
  output: # ((50000 + 60000 = 110000 < 113922 - 1000 - 1000 = 111922) + (13000 > 0 > 25394 - 1000 - 1000 - 50000 - 60000 - 300)) > (40000 - 1000 - 5000 - 1000 < 50000 + 60000)
    mi_standard_deduction_and_pension_benefit: 110_000

- name: 2022 widow filer and their deceased spouse are not at the age threshold
  period: 2022
  input:
    state_code: MI
    filing_status: WIDOW
    greater_age_head_spouse: 35
  output: 
    mi_standard_deduction_and_pension_benefit: 0

- name: 2022 widow filer at the tier 2 standard deduction age threshold, and not receive retirement benefits from SSA employment exempt
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 20_000
        year_of_retirement: 2014
        military_retirement_pay: 1_000
        military_service_income: 5_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 73
        members: [person1]
        filing_status: WIDOW
    household:
      members: [person1]
      state_code: MI
  output: # 20000 + 0 - 1000 - 5000 > 20000
    mi_standard_deduction_and_pension_benefit: 14_000

- name: 2022 single filer who is at the tier 1 retirement and pension benefits and interest, dividends, and capital gains deduction threshold, $13000 interest, dividends, and capital gains income
  period: 2022
  input:
    people:
      person1:
        taxable_pension_income: 10_000
        military_retirement_pay: 1_000
        taxable_interest_income: 10_000
        dividend_income: 2_000
        capital_gains: 1_000
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        greater_age_head_spouse: 77
        elderly_disabled_credit: 300
        members: [person1]
        filing_status: SINGLE
    household:
      members: [person1]
      state_code: MI
  output: # 0 + (56961 - 1000 = 55961 > 10000) + 0 + (12697 - 1000 - 10000 - 300 = 1397 < 13000)
    mi_standard_deduction_and_pension_benefit: 11_397
